<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20260205220026 extends AbstractMigration
{
    public function getDescription(): string
    {
        return '';
    }

    public function up(Schema $schema): void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('CREATE TABLE comment (created_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, updated_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, deleted_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, is_deleted BOOLEAN DEFAULT false NOT NULL, id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, tweet_id INT NOT NULL, content VARCHAR(280) NOT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, deleted_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_9474526CB03A8386 ON comment (created_by_id)');
        $this->addSql('CREATE INDEX IDX_9474526C896DBBDE ON comment (updated_by_id)');
        $this->addSql('CREATE INDEX IDX_9474526CC76F1F52 ON comment (deleted_by_id)');
        $this->addSql('CREATE TABLE follow (created_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, updated_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, deleted_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, is_deleted BOOLEAN DEFAULT false NOT NULL, id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, follower_id INT NOT NULL, following_id INT NOT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, deleted_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_68344470B03A8386 ON follow (created_by_id)');
        $this->addSql('CREATE INDEX IDX_68344470896DBBDE ON follow (updated_by_id)');
        $this->addSql('CREATE INDEX IDX_68344470C76F1F52 ON follow (deleted_by_id)');
        $this->addSql('CREATE TABLE "like" (created_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, updated_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, deleted_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, is_deleted BOOLEAN DEFAULT false NOT NULL, id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, tweet_id INT NOT NULL, user_id INT NOT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, deleted_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_AC6340B3B03A8386 ON "like" (created_by_id)');
        $this->addSql('CREATE INDEX IDX_AC6340B3896DBBDE ON "like" (updated_by_id)');
        $this->addSql('CREATE INDEX IDX_AC6340B3C76F1F52 ON "like" (deleted_by_id)');
        $this->addSql('CREATE TABLE tweet (created_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, updated_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, deleted_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, is_deleted BOOLEAN DEFAULT false NOT NULL, id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, content VARCHAR(280) NOT NULL, uid UUID NOT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, deleted_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_3D660A3BB03A8386 ON tweet (created_by_id)');
        $this->addSql('CREATE INDEX IDX_3D660A3B896DBBDE ON tweet (updated_by_id)');
        $this->addSql('CREATE INDEX IDX_3D660A3BC76F1F52 ON tweet (deleted_by_id)');
        $this->addSql('CREATE TABLE "user" (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, email VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, username VARCHAR(255) NOT NULL, bio VARCHAR(255) NOT NULL, avatar VARCHAR(255) DEFAULT NULL, theme VARCHAR(255) NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE TABLE view (created_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, updated_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, deleted_date TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, is_deleted BOOLEAN DEFAULT false NOT NULL, id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, tweet_id INT NOT NULL, user_id INT NOT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, deleted_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_FEFDAB8EB03A8386 ON view (created_by_id)');
        $this->addSql('CREATE INDEX IDX_FEFDAB8E896DBBDE ON view (updated_by_id)');
        $this->addSql('CREATE INDEX IDX_FEFDAB8EC76F1F52 ON view (deleted_by_id)');
        $this->addSql('ALTER TABLE comment ADD CONSTRAINT FK_9474526CB03A8386 FOREIGN KEY (created_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE comment ADD CONSTRAINT FK_9474526C896DBBDE FOREIGN KEY (updated_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE comment ADD CONSTRAINT FK_9474526CC76F1F52 FOREIGN KEY (deleted_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE follow ADD CONSTRAINT FK_68344470B03A8386 FOREIGN KEY (created_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE follow ADD CONSTRAINT FK_68344470896DBBDE FOREIGN KEY (updated_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE follow ADD CONSTRAINT FK_68344470C76F1F52 FOREIGN KEY (deleted_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE "like" ADD CONSTRAINT FK_AC6340B3B03A8386 FOREIGN KEY (created_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE "like" ADD CONSTRAINT FK_AC6340B3896DBBDE FOREIGN KEY (updated_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE "like" ADD CONSTRAINT FK_AC6340B3C76F1F52 FOREIGN KEY (deleted_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE tweet ADD CONSTRAINT FK_3D660A3BB03A8386 FOREIGN KEY (created_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE tweet ADD CONSTRAINT FK_3D660A3B896DBBDE FOREIGN KEY (updated_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE tweet ADD CONSTRAINT FK_3D660A3BC76F1F52 FOREIGN KEY (deleted_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE view ADD CONSTRAINT FK_FEFDAB8EB03A8386 FOREIGN KEY (created_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE view ADD CONSTRAINT FK_FEFDAB8E896DBBDE FOREIGN KEY (updated_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE view ADD CONSTRAINT FK_FEFDAB8EC76F1F52 FOREIGN KEY (deleted_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
    }

    public function down(Schema $schema): void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('ALTER TABLE comment DROP CONSTRAINT FK_9474526CB03A8386');
        $this->addSql('ALTER TABLE comment DROP CONSTRAINT FK_9474526C896DBBDE');
        $this->addSql('ALTER TABLE comment DROP CONSTRAINT FK_9474526CC76F1F52');
        $this->addSql('ALTER TABLE follow DROP CONSTRAINT FK_68344470B03A8386');
        $this->addSql('ALTER TABLE follow DROP CONSTRAINT FK_68344470896DBBDE');
        $this->addSql('ALTER TABLE follow DROP CONSTRAINT FK_68344470C76F1F52');
        $this->addSql('ALTER TABLE "like" DROP CONSTRAINT FK_AC6340B3B03A8386');
        $this->addSql('ALTER TABLE "like" DROP CONSTRAINT FK_AC6340B3896DBBDE');
        $this->addSql('ALTER TABLE "like" DROP CONSTRAINT FK_AC6340B3C76F1F52');
        $this->addSql('ALTER TABLE tweet DROP CONSTRAINT FK_3D660A3BB03A8386');
        $this->addSql('ALTER TABLE tweet DROP CONSTRAINT FK_3D660A3B896DBBDE');
        $this->addSql('ALTER TABLE tweet DROP CONSTRAINT FK_3D660A3BC76F1F52');
        $this->addSql('ALTER TABLE view DROP CONSTRAINT FK_FEFDAB8EB03A8386');
        $this->addSql('ALTER TABLE view DROP CONSTRAINT FK_FEFDAB8E896DBBDE');
        $this->addSql('ALTER TABLE view DROP CONSTRAINT FK_FEFDAB8EC76F1F52');
        $this->addSql('DROP TABLE comment');
        $this->addSql('DROP TABLE follow');
        $this->addSql('DROP TABLE "like"');
        $this->addSql('DROP TABLE tweet');
        $this->addSql('DROP TABLE "user"');
        $this->addSql('DROP TABLE view');
    }
}
